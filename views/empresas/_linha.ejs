<tr id="empresa-<%= empresa.id %>" data-nome="<%= (empresa.nome || '').toLowerCase() %>">
<td>
<div class="d-flex align-items-center">
<div class="avatar bg-primary text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 40px; height: 40px;">
<i class="bi bi-building"></i>
</div>
<div>
<div class="fw-semibold"><%= empresa.nome %></div>
<% if (empresa.endereco) { %>
<small class="text-muted">
<i class="bi bi-geo-alt"></i>
<%= empresa.endereco.substring(0, 40) %><%= empresa.endereco.length > 40 ? '...' : '' %>
</small>
<% } %>
</div>
</div>
</td>

<td>
<% if (empresa.cnpj) { %>
<span class="font-monospace small"><%= empresa.cnpj %></span>
<% } else { %>
<span class="text-muted">-</span>
<% } %>
</td>

<td>
<% if (empresa.telefone) { %>
<i class="bi bi-telephone text-primary me-1"></i>
<%= empresa.telefone %>
<% } else { %>
<span class="text-muted">-</span>
<% } %>
</td>

<td>
<% if (empresa.email) { %>
<a href="mailto:<%= empresa.email %>" class="text-decoration-none">
<i class="bi bi-envelope me-1"></i>
<%= empresa.email %>
</a>
<% } else { %>
<span class="text-muted">-</span>
<% } %>
</td>

<td class="text-center">
<% if (empresa.ativo) { %>
<span class="badge bg-success">
<i class="bi bi-check-circle me-1"></i>
Ativa
</span>
<% } else { %>
<span class="badge bg-secondary">
<i class="bi bi-x-circle me-1"></i>
Inativa
</span>
<% } %>
</td>

<td class="text-end">
<div class="d-inline-flex align-items-center gap-2">
<button
type="button"
class="btn btn-outline-primary btn-sm rounded-pill px-3"
data-bs-toggle="modal"
data-bs-target="#empresaModal"
hx-get="/empresas/editar/<%= empresa.id %>?partial=1"
hx-target="#empresaModalBody"
hx-swap="innerHTML"
>
Editar
</button>

  <a
    href="/empresas/toggle/<%= empresa.id %>"
    class="btn btn-sm rounded-pill px-3 <%= empresa.ativo ? 'btn-outline-danger' : 'btn-outline-success' %>"
    data-confirm="1"
    data-confirm-title="<%= empresa.ativo ? 'Inativar empresa' : 'Ativar empresa' %>"
    data-confirm-body="Confirma essa alteração?"
    data-confirm-ok="Confirmar"
  >
    <%= empresa.ativo ? 'Inativar' : 'Ativar' %>
  </a>
</div>

</td>
</tr>